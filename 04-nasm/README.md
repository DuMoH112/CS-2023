# NASM

## Инструкция по запуску эмулятора

Для запуска соберите образ, запустите его при помощи команды:

```sh
docker run --rm -it $(docker build -q .)
```

## [Задание 1](./source/tasks/continuous_sequence.asm)

Формулировка задания:
> Дан непустой массив, который состоит из нулей и единиц.
> Выведите размер самой длинной непрерывной последовательности единиц в массиве.
>
> Пример: [0, 0, 1, 0, 1, 1, 1, 0]<br/>
> Ответ:  3
>
> Пример: [0, 0, 0]<br/>
> Ответ:  0

## [Задание 2](./source/tasks/running_through_floors.asm)

Формулировка задания:
> Вася бегает по этажам офисного здания с блокнотом в руках:
>
> - когда он поднимается на 1 этаж, он записывает букву 'u'
> - когда он опускается на 1 этаж, он записывает букву 'd'
>
> Определите по записям в блокноте (есть минимум 1 запись),
> смог ли Вася вернуться на исходный этаж в конце рабочего дня:
>
> - выведите 1, если Вася закончил работать там же, где начал
> - выведите 0, если Вася застрял на другом этаже
>
> Пример: ['u', 'd', 'd', 'u', 'u', 'd', 'd', 'u']<br/>
> Ответ:  1

## [Задание 3](./source/tasks/next_warm_day.asm)

Формулировка задания:
> Детям в школе задали на лето записывать каждый день:
>
> - какая в этот день была температура
> - если до этого были дни с более высокой температурой — записать температуру **ближайшего** такого дня (или -1, если таких дней не было)
>
> Помогите Маше найти **ближайшие** предыдущие дни с более высокой температурой. Массив непустой, все числа в нём натуральные.
>
> **ВАЖНО**: решение должно выполняться за время O(n).
> 
> Пример: [17, 21, 13, 17, 14, 12]<br/>
> Ответ: [-1, -1, 21, 21, 17, 14]

---

## Подсказки по командам отладчика gdb

```gdb
layout regs                 ; Переключаемся на просмотр регистров
break _start                ; Устанавливаем точку останова в начале
run                         ; Запускаем программу
next                        ; Выполняет следующую строку программы, не заходя в функции
step                        ; Выполняет следующую строку программы, заходя в функции
continue                    ; продолжает выполнение программы до следующей точки останова или конца программы
quit                        ; Завершаем работу
print                       ; Печатает значение переменной или выражения
backtrace                   ; Показывает стек вызовов функций
info                        ; Показывает различную информацию о программе, например аргументы функций, регистры, потоки и т.д.

p/d   $eax                  ; Регистр EAX, десятичный формат
p/t   $eax                  ; Регистр EAX, двоичный формат
p/t   $eax                  ; Регистр EAX, шестнадцатеричный формат
x/d   0x83040               ; Адрес указан явно
x/d   $ebx                  ; Адрес лежит в регистре EBX
x/5d  0x83040               ; 5 ячеек по 32 бита с этого адреса
x/5bd 0x83040               ; 5 ячеек по  8 бит  с этого адреса
x/wd  &height               ; Переменная height, 32 бита
x/bu  &price                ; Переменная price,   8 бит без знака
x/hd  &arr+2                ; Элемент arr[1],    16 бит
p (int[6])res               ; Выводит массив целиком состоящий из int размером 6 в переменной res

set $eax = 100              ; Регистр EAX, значение 100
set $eax += 50              ; Регистр EAX, прибавляем 50
set $ebx = &distance        ; Регистр EBX, адрес distance
set $ebx = (int) &distance  ; Регистр EBX, значение distance
set {int} &height = 20      ; Переменная height, значение 20
set {int} 0x83040 = 30      ; Адрес задан явно,  значение 30
```
